#summary LDAP connector

<wiki:toc max_depth="2"/>

=Overview=

The LDAP connector enables identity provisioning to LDAP v3 servers.

=Supported Resources=

 * LDAP v3
 * OpenLDAP
 * Sun ONE Directory Server 4.x
 * Sun Java System Directory Server 5 (2004Q2, 2005Q1), 6.3

=Installation=

To install the LDAP connector, add the bundle JAR file to a directory on your disk. If your application has a dedicated directory for connector bundles, put the file in that directory. For example, Syncope looks for connector bundles in the configured bundles directory.

=Supported Operations=

The LDAP connector supports the following operations:

 * Authentication
 *   Create
 *   Delete
 *   Get
 *   Schema
 *   !ScriptOnConnector
 *   Search
 *   Sync (only with Sun Directory Server Enterprise Edition)
 *   Test
 *   Update
 *   Validate

=Configuration=

The following table lists all the configuration properties you can specify when setting up the LDAP connector:

<table border="1">
  <tbody>
    <tr>
      <th> Configuration Property </th>
      <th> Required </th>
      <th> Type </th>
      <th> Default Value </th>
      <th> Description </th>
    </tr>
    <tr>
      <td> <tt>host</tt> </td>
      <td>  X </td>
      <td> <tt>String</tt> </td>
      <td></td>
      <td> LDAP server on which to connect </td>
    </tr>
    <tr>
      <td> <tt>port</tt> </td>
      <td>  X </td>
      <td> <tt>int</tt> </td>
      <td> <tt>389</tt> </td>
      <td> TCP port on which to connect </td>
    </tr>
    <tr>
      <td> <tt>ssl</tt> </td>
      <td></td>
      <td> <tt>boolean</tt> </td>
      <td> <tt>false</tt> </td>
      <td> Connect using SSL </td>
    </tr>
    <tr>
      <td> <tt>failover</tt> </td>
      <td></td>
      <td> <tt>String[]</tt> </td>
      <td></td>
      <td> An array of <span class="nobr"><a rel="nofollow" class="external-link" href="http://java.sun.com/j2se/1.5.0/docs/guide/jndi/jndi-ldap-gl.html#URLS">LDAP URLs</a></span> specifying failover servers.
If the connector cannot make a connection to the server specified in the <tt>host</tt> property, it will try connecting to these failover servers in the specified order. </td>
    </tr>
    <tr>
      <td> <tt>principal</tt> </td>
      <td></td>
      <td> <tt>String</tt> </td>
      <td></td>
      <td> Distinguished name (DN) of the LDAP entry under to perform provisioning operations </td>
    </tr>
    <tr>
      <td> <tt>credentials</tt> </td>
      <td></td>
      <td> <tt>GuardedString</tt> </td>
      <td></td>
      <td> Password corresponding to the entry specified in the <tt>principal</tt> property </td>
    </tr>
    <tr>
      <td> <tt>baseContexts</tt> </td>
      <td>  X </td>
      <td> <tt>String[]</tt> </td>
      <td></td>
      <td> Base context DNs for provisioning operations. The connector ignores any entries outside these base contexts. </td>
    </tr>
    <tr>
      <td> <tt>passwordAttribute</tt> </td>
      <td>  X </td>
      <td> <tt>String</tt> </td>
      <td> <tt>"userPassword"</tt> </td>
      <td> Name of the LDAP attribute that holds the LDAP entry's password. This attribute is read and modified by password-change operations. </td>
    </tr>
    <tr>
      <td> <tt>accountObjectClasses</tt> </td>
      <td>  X </td>
      <td> <tt>String[]</tt> </td>
      <td> { <tt>"top"</tt>, <br/> <tt>"person"</tt>, <br/> <tt>"organizationalPerson"</tt>, <br/> <tt>"inetOrgPerson"</tt> } </td>
      <td> Object classes to which the <tt>ACCOUNT</tt> object class is mapped. </td>
    </tr>
    <tr>
      <td> <tt>accountUserNameAttributes</tt> </td>
      <td>  X </td>
      <td> <tt>String[]</tt> </td>
      <td> { <tt>"cn", "uid"</tt> } </td>
      <td> LDAP attributes to which the authentication user names are mapped. The connector uses this property search for the LDAP entry corresponding to the user name that is passed to an authentication operation. </td>
    </tr>
    <tr>
      <td> <tt>accountSearchFilter</tt> </td>
      <td></td>
      <td> <tt>String</tt> </td>
      <td></td>
      <td> LDAP search filter for accounts. When searching for accounts, the connector only considers those accounts that match the specified filter. </td>
    </tr>
    <tr>
      <td> <tt>groupMemberAttribute</tt> </td>
      <td>  X </td>
      <td> <tt>String</tt> </td>
      <td> <tt>"uniqueMember"</tt> </td>
      <td> LDAP attribute that holds the member of LDAP static groups </td>
    </tr>
    <tr>
      <td> <tt>maintainLdapGroupMembership</tt> </td>
      <td></td>
      <td> <tt>boolean</tt> </td>
      <td> <tt>false</tt> </td>
      <td> Maintain LDAP group membership when renaming or deleting entries </td>
    </tr>
    <tr>
      <td> <tt>maintainPosixGroupMembership</tt> </td>
      <td></td>
      <td> <tt>boolean</tt> </td>
      <td> <tt>false</tt> </td>
      <td> Maintain POSIX group membership when renaming or deleting entries </td>
    </tr>
    <tr>
      <td> <tt>passwordHashAlgorithm</tt> </td>
      <td></td>
      <td> <tt>String</tt> </td>
      <td></td>
      <td> Algorithm used to hash passwords. Valid values are <tt>"SHA"</tt>, <tt>"SSHA"</tt>, <tt>"MD5"</tt>, and <tt>"SMD5"</tt>. If you specify <tt>"SSHA"</tt> or <tt>"SMD5"</tt>, the connector appends a random salt value to the password value before hashing. </td>
    </tr>
    <tr>
      <td> <tt>respectResourcePasswordPolicyChangeAfterReset</tt> </td>
      <td></td>
      <td> <tt>boolean</tt> </td>
      <td></td>
      <td> Check for the Password Expired and Password Policy controls when binding </td>
    </tr>
    <tr>
      <td> <tt>useBlocks</tt> </td>
      <td></td>
      <td> <tt>boolean</tt> </td>
      <td> <tt>true</tt> </td>
      <td> Use a block-based control for search operations, such as the Simple Paged Results or the Virtual List View (VLV) Index controls </td>
    </tr>
    <tr>
      <td> <tt>blockSize</tt> </td>
      <td>  X </td>
      <td> <tt>int</tt> </td>
      <td> <tt>100</tt> </td>
      <td> Block size to use with block-based controls. This property is meaningful only when the <tt>useBlocks</tt> property is <tt>true</tt>. </td>
    </tr>
    <tr>
      <td> <tt>usePagedResultControl</tt> </td>
      <td></td>
      <td> <tt>boolean</tt> </td>
      <td> <tt>false</tt> </td>
      <td> Use the Simple Paged Results control for search operations. <br/>If <tt>false</tt>, the connector uses VLV Index control. This property is meaningful only when the <tt>useBlocks</tt> property is <tt>true</tt>. </td>
    </tr>
    <tr>
      <td> <tt>vlvSortAttribute</tt> </td>
      <td>  X </td>
      <td> <tt>String</tt> </td>
      <td> <tt>"uid"</tt> </td>
      <td> LDAP attribute to use as the sort key when you are using the VLV Index control. This property is meaningful only when the <tt>useBlocks</tt> property is <tt>true</tt> and the <tt>usePagedResultControl</tt> property is <tt>false</tt>. </td>
    </tr>
    <tr>
      <td> <tt>uidAttribute</tt> </td>
      <td>  X </td>
      <td> <tt>String</tt> </td>
      <td> <tt>"entryUUID"</tt> </td>
      <td> LDAP attribute to use as the <tt>Uid</tt> connector attribute value </td>
    </tr>
    <tr>
      <td> <tt>baseContextsToSynchronize</tt> </td>
      <td></td>
      <td> <tt>String[]</tt> </td>
      <td></td>
      <td> Base context DNs to use for synchronization. The connector ignores any changes outside of  these base contexts. </td>
    </tr>
    <tr>
      <td> <tt>objectClassesToSynchronize</tt> </td>
      <td>  X </td>
      <td> <tt>String[]</tt> </td>
      <td> <tt>"inetOrgPerson"</tt> </td>
      <td> LDAP object classes to synchronize. The connector ignores any changes if it cannot find any of the modified entry's object classes in this property. </td>
    </tr>
    <tr>
      <td> <tt>attributesToSynchronize</tt> </td>
      <td></td>
      <td> <tt>String[]</tt> </td>
      <td></td>
      <td> LDAP attributes to synchronize. The connector ignores changes to any LDAP attributes that are not specified in this property. </td>
    </tr>
    <tr>
      <td> <tt>modifiersNamesToFilterOut</tt> </td>
      <td></td>
      <td> <tt>String[]</tt> </td>
      <td></td>
      <td> Modifier DNs to filter out for synchronization. The connector ignores any changes made by an entry specified in this property. </td>
    </tr>
    <tr>
      <td> <tt>accountSynchronizationFilter</tt> </td>
      <td></td>
      <td> <tt>String</tt> </td>
      <td></td>
      <td> LDAP search filter used to filter out accounts from synchronization. The connector ignores changes to any accounts that do not match the filter specified in this property. </td>
    </tr>
    <tr>
      <td> <tt>changeLogBlockSize</tt> </td>
      <td>  X </td>
      <td> <tt>int</tt> </td>
      <td> <tt>100</tt> </td>
      <td> Block size to use when reading changes from the change log </td>
    </tr>
    <tr>
      <td> <tt>changeNumberAttribute</tt> </td>
      <td>  X </td>
      <td> <tt>String</tt> </td>
      <td> <tt>"changeNumber"</tt> </td>
      <td> LDAP attribute that holds the change number name in change log entries </td>
    </tr>
    <tr>
      <td> <tt>filterWithOrInsteadOfAnd</tt> </td>
      <td></td>
      <td> <tt>boolean</tt> </td>
      <td> <tt>false</tt> </td>
      <td> Use an <tt>and</tt> filter instead of an <tt>or</tt> filter when searching for change log entries </td>
    </tr>
    <tr>
      <td> <tt>removeLogEntryObjectClassFromFilter</tt> </td>
      <td></td>
      <td> <tt>boolean</tt> </td>
      <td> <tt>true</tt> </td>
      <td> Remove the condition that tests whether the object class of the change log entries is <tt>changeLogEntry</tt> from the filter used to search for entries in the change log </td>
    </tr>
    <tr>
      <td> <tt>synchronizePasswords</tt> </td>
      <td></td>
      <td> <tt>boolean</tt> </td>
      <td> <tt>false</tt> </td>
      <td> Synchronize passwords during synchronization. This property is only supported with Sun Directory Server Enterprise Edition. </td>
    </tr>
    <tr>
      <td> <tt>passwordAttributeToSynchronize</tt> </td>
      <td></td>
      <td> <tt>String</tt> </td>
      <td></td>
      <td>  LDAP attribute used to synchronize during password synchronization. This property is meaningful only when the <tt>synchronizePasswords</tt> property is <tt>true</tt>. </td>
    </tr>
    <tr>
      <td> <tt>passwordDecryptionKey</tt> </td>
      <td></td>
      <td> <tt>!GuardedByteArray</tt> </td>
      <td></td>
      <td> Decryption key used to decrypt passwords during password synchronization. This property is meaningful only when the <tt>synchronizePasswords</tt> property is <tt>true</tt>. </td>
    </tr>
    <tr>
      <td> <tt>passwordDecryptionInitializationVector</tt> </td>
      <td></td>
      <td> <tt>!GuardedByteArray</tt> </td>
      <td></td>
      <td> Initialization key used when decrypting passwords during password synchronization. This property is meaningful only when the <tt>synchronizePasswords</tt> property is <tt>true</tt>. </td>
    </tr>
    <tr>
      <td> <tt>statusManagementClass</tt> </td>
      <td></td>
      <td> <tt>String</tt> </td>
      <td></td>
      <td> Java class to be used to enable/disable identities.<br /> This class must extends <tt>org.identityconnectors.ldap.commons.StatusManagement</tt> class and implement all the required methods to manage enable/disable requests.</td>
    </tr>
  </tbody>
</table>

=Schema=

The LDAP connector supports the following objectclasses:

 *   *ACCOUNT* objectclass: Mapped to the LDAP objectclasses specified in the accountObjectClasses configuration property. This objectclass has the following attributes:

<table border="1">
  <tbody>
    <tr>
      <th> Attribute Name </th>
      <th> Description </th>
    </tr>
    <tr>
      <td> <tt>UID</tt> </td>
      <td> Account unique id. Mapped to the LDAP attribute specified by uidAttribute configuration property. </td>
    </tr>
    <tr>
      <td> <tt>NAME</tt> </td>
      <td> DN of the LDAP entry. </td>
    </tr>
    <tr>
      <td> <tt>PASSWORD</tt> </td>
      <td> Account password. </td>
    </tr>
  </tbody>
</table>

 *   *GROUP* objectclass: Mapped to the LDAP objectclass groupOfUniqueNames. This objectclass has the following attributes:

<table border="1">
  <tbody>
    <tr>
      <th> Attribute Name </th>
      <th> Description </th>
    </tr>
    <tr>
      <td> <tt>UID</tt> </td>
      <td> Group unique id. Mapped to the LDAP attribute specified by uidAttribute configuration property. </td>
    </tr>
    <tr>
      <td> <tt>NAME</tt> </td>
      <td> DN of the LDAP entry. </td>
    </tr>
  </tbody>
</table>

*Note*:
 The schema contents are not related to the connector's ability to handle LDAP objectclasses and attributes. Although LDAP objectclasses are not exposed as connector objectclasses, the connector can create, modify, etc., objects of any objectclass supported by the LDAP server.